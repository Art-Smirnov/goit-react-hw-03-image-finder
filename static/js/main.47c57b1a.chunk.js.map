{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.scss","components/Modal/Modal.module.scss","components/ImageGallery/ImageGallery.module.scss","components/Button/Button.module.scss","components/Spiner/Spiner.module.scss","App/App.module.scss","services/imageApi.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","components/Button/Button.js","components/Spiner/Spiner.js","App/App.js","index.js","components/Searchbar/Searchbar.module.scss"],"names":["module","exports","imageApi","fetchImagesWithQuery","a","query","currentPage","pageSize","axios","get","response","data","hits","Searchbar","state","serchQuery","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","this","className","style","SearchForm","type","SearchForm__button","SearchForm__button__label","SearchForm__input","onChange","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","images","setLargeURL","map","id","webformatURL","largeImageURL","tags","onClick","src","alt","ImageGalleryItem__image","ImageGallery","modalRoot","document","querySelector","Modal","handleKeyDown","code","handleOverlayClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","children","Button","onLoadMore","Spiner","isLoading","Loader","color","height","width","visible","App","error","largeURL","onChangeQuery","fetchImages","options","then","prevState","catch","finally","prevProps","scrollTo","top","documentElement","scrollHeight","behavior","shouldRenderLoadMoreBtn","length","message","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.47c57b1a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__LXDDx\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__3ZXoT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3PJim\",\"Modal\":\"Modal_Modal__RaFss\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2rSKh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1Hxee\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Spiner_Loader__2IwvC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1EBxx\"};","import axios from 'axios';\n\nconst MY_KEY = '20897782-f4830aa419d01f6c9c7fb4934';\nconst BASE_URL = 'https://pixabay.com/api/';\n//чомусь не працює\n// axios.defaults.baseUrl = 'https://pixabay.com/api/';\n\nconst fetchImagesWithQuery = async ({\n  query = '',\n  currentPage = 1,\n  pageSize = 12,\n}) => {\n  const response = await axios.get(\n    `${BASE_URL}?q=${query}&page=${currentPage}&key=${MY_KEY}&image_type=photo&orientation=horizontal&per_page=${pageSize}`,\n  );\n  return response.data.hits;\n};\n\nconst imageApi = {\n  fetchImagesWithQuery,\n};\n\nexport default imageApi;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport style from './Searchbar.module.scss';\n\nclass Searchbar extends Component {\n  state = { serchQuery: '' };\n\n  handleChange = e => {\n    this.setState({ serchQuery: e.currentTarget.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    this.props.onSubmit(this.state.serchQuery);\n\n    this.setState({ serchQuery: '' });\n  };\n\n  render() {\n    const { serchQuery } = this.state;\n    return (\n      <header className={style.Searchbar}>\n        <form className={style.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={style.SearchForm__button}>\n            <span className={style.SearchForm__button__label}>Search</span>\n          </button>\n\n          <input\n            className={style.SearchForm__input}\n            type=\"text\"\n            value={serchQuery}\n            onChange={this.handleChange}\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport style from './ImageGalleryItem.module.scss';\n\nconst ImageGalleryItem = ({ images, setLargeURL }) =>\n  images.map(({ id, webformatURL, largeImageURL, tags }) => (\n    <li key={id} className={style.ImageGalleryItem}>\n      <img\n        onClick={() => setLargeURL(largeImageURL)}\n        src={webformatURL}\n        alt={tags}\n        className={style.ImageGalleryItem__image}\n      />\n    </li>\n  ));\n\nImageGalleryItem.propTypes = {\n  setLargeURL: PropTypes.func.isRequired,\n\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n      tags: PropTypes.string.isRequired,\n    }),\n  ).isRequired,\n};\nexport default ImageGalleryItem;\n","import React from 'react';\n\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport style from './ImageGallery.module.scss';\n\nconst ImageGallery = ({ setLargeURL, images }) => (\n  <ul className={style.ImageGallery}>\n    <ImageGalleryItem images={images} setLargeURL={setLargeURL} />\n  </ul>\n);\n\nexport default ImageGallery;\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\nimport style from './Modal.module.scss';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.setLargeURL();\n    }\n  };\n\n  handleOverlayClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.setLargeURL();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={style.Overlay} onClick={this.handleOverlayClick}>\n        <div className={style.Modal}>{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nModal.propTypes = {\n  children: PropTypes.node.isRequired,\n  setLargeURL: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport style from './Button.module.scss';\n\nconst Button = ({ onLoadMore }) => (\n  <button onClick={onLoadMore} type=\"button\" className={style.Button}>\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  onLoadMore: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React, { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nimport style from './Spiner.module.scss';\nimport PropTypes from 'prop-types';\n\nclass Spiner extends Component {\n  render() {\n    const { isLoading } = this.props;\n    return (\n      <Loader\n        className={style.Loader}\n        type=\"BallTriangle\"\n        color=\"#00BFFF\"\n        height={80}\n        width={80}\n        visible={isLoading}\n      />\n    );\n  }\n}\n\nSpiner.propTypes = {\n  isLoading: PropTypes.bool.isRequired,\n};\n\nexport default Spiner;\n","import React, { Component } from 'react';\n\nimport imageApi from '../services/imageApi';\nimport Searchbar from '../components/Searchbar';\nimport ImageGallery from '../components/ImageGallery';\nimport Modal from '../components/Modal';\nimport Button from '../components/Button';\nimport Spiner from '../components/Spiner';\n\nimport style from './App.module.scss';\n\nclass App extends Component {\n  state = {\n    images: [],\n    error: null,\n    currentPage: 1,\n    query: '',\n    isLoading: false,\n    largeURL: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.query !== this.state.query) {\n      this.fetchImages();\n    }\n    if (this.state.currentPage > 2) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  setLargeURL = largeURL => {\n    this.setState({ largeURL });\n  };\n\n  onChangeQuery = serchQuery => {\n    this.setState({\n      query: serchQuery,\n      currentPage: 1,\n      images: [],\n      error: null,\n      largeURL: '',\n    });\n  };\n\n  fetchImages = () => {\n    const { currentPage, query } = this.state;\n    const options = { query, currentPage };\n\n    this.setState({ isLoading: true });\n\n    imageApi\n      .fetchImagesWithQuery(options)\n      .then(images =>\n        this.setState(prevState => ({\n          images: [...prevState.images, ...images],\n          currentPage: prevState.currentPage + 1,\n        })),\n      )\n      .catch(error => this.setState({ error }))\n      .finally(() => {\n        return this.setState({ isLoading: false });\n      });\n  };\n\n  render() {\n    const { largeURL, images, error, isLoading } = this.state;\n    const shouldRenderLoadMoreBtn = images.length > 0 && !isLoading;\n    return (\n      <div className={style.App}>\n        {error && <p>Whoops, something went wrong: {error.message}</p>}\n        <Searchbar onSubmit={this.onChangeQuery} />\n        <ImageGallery images={images} setLargeURL={this.setLargeURL} />\n        <Spiner isLoading={isLoading} />\n        {shouldRenderLoadMoreBtn && <Button onLoadMore={this.fetchImages} />}\n        {largeURL && (\n          <Modal setLargeURL={this.setLargeURL}>\n            <img src={largeURL} alt=\"\" />\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\nimport './styles/base.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__39ayZ\",\"SearchForm\":\"Searchbar_SearchForm__3fZj4\",\"SearchForm__button\":\"Searchbar_SearchForm__button__2_IWN\",\"SearchForm__button__label\":\"Searchbar_SearchForm__button__label__2L0LR\",\"SearchForm__input\":\"Searchbar_SearchForm__input__1jLvl\"};"],"sourceRoot":""}